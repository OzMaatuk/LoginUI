# Server Configuration
PORT=8000
NODE_ENV=development

# Authentik Configuration
# AUTHENTIK_ISSUER: Server-side issuer URL
#   - For devcontainer: use Docker network name (authentik-server-dev)
#   - For local dev: use localhost
#   - For production: use your public domain
# Note: The auth.ts config automatically replaces the hostname with localhost for browser redirects
AUTHENTIK_ISSUER=http://authentik-server-dev:9000/application/o/sso-login/
AUTHENTIK_CLIENT_ID=your-client-id-from-authentik
AUTHENTIK_CLIENT_SECRET=your-client-secret-from-authentik

# NextAuth Configuration (Generate with: openssl rand -base64 32)
AUTH_SECRET=your-generated-secret-key-here
NEXTAUTH_URL=http://localhost:8000
NEXTAUTH_SECRET=your-generated-secret-key-here

# OTP Configuration
OTP_PROVIDER=mock
OTP_EXTERNAL_SERVICE_URL=http://localhost:3008/send

# Application Configuration
NEXT_PUBLIC_APP_NAME="SSO Login"
NEXT_PUBLIC_APP_DESCRIPTION="Secure Single Sign-On Authentication"
NEXT_PUBLIC_AUTHENTIK_ENABLED=true

# Session Configuration
NEXT_PUBLIC_SESSION_TIMEOUT=3600000

# Redis Configuration (use localhost for local dev, redis-sessions for docker)
REDIS_URL=redis://localhost:6379

# Rate Limiting (Optional - Upstash)
UPSTASH_REDIS_URL=
UPSTASH_REDIS_TOKEN=

# Login Service URL
NEXT_PUBLIC_LOGIN_URL=http://localhost:8000

# External API Configuration (optional - for client apps)
NEXT_PUBLIC_API_URL=http://localhost:3002
NEXT_PUBLIC_API_VERSION=v1

# Docker Compose Variables (for docker-compose.yml)
PG_PASS=authentik_db_password_change_this
AUTHENTIK_SECRET_KEY=change-this-to-a-random-secret-key
AUTHENTIK_ERROR_REPORTING__ENABLED=false

# Authentik Bootstrap (First-time setup automation)
# Generate token with: openssl rand -hex 32
AUTHENTIK_BOOTSTRAP_PASSWORD=akadmin
AUTHENTIK_BOOTSTRAP_TOKEN=your-bootstrap-token-here
AUTHENTIK_BOOTSTRAP_EMAIL=admin@localhost
